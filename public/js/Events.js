// Generated by CoffeeScript 1.9.1
var Events;

Events = (function() {
  function Events(gm) {
    this.gm = gm;
    this.keyCodes = {
      w: 87,
      s: 83,
      p: 80
    };
    this.events = {
      other: {}
    };
    this.registerEvents();
  }

  Events.prototype.registerEvents = function() {
    this.registerKeyDownEvents();
    return this.registerKeyUpEvents();
  };

  Events.prototype.registerKeyDownEvents = function() {
    var self;
    self = this;
    return $(document).on("keydown", function(event) {
      if (!self.events[event.keyCode]) {
        self.events[event.keyCode] = !self.events[event.keyCode];
        self.gm.network.socket.emit("keydown", event.keyCode);
        console.log("me: down:", event.keyCode, Date.now());
        if (event.keyCode === self.keyCodes.p) {
          return self.gm.pause();
        }
      }
    });
  };

  Events.prototype.registerKeyUpEvents = function() {
    var self;
    self = this;
    return $(document).on("keyup", function(event) {
      if (self.events[event.keyCode]) {
        self.events[event.keyCode] = false;
        self.gm.network.socket.emit("keyup", event.keyCode);
        return console.log("me: up:", event.keyCode, Date.now());
      }
    });
  };

  return Events;

})();
